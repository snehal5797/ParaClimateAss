<!DOCTYPE html>
<html>
  <head>
    <title>Bar Graphs and Data Tables</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<style>
  .table>tbody>tr>td, .table>tbody>tr>th, .table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th 
  {
    padding: 2px;
    line-height: 1.42857143;
    vertical-align: top;
    border-top: 1px solid #ddd;
   }
   h2{text-align:center;}
   button{text-align:center;}
</style>
  </head>
  <body>

  <h2> Graphs and Tables </h2>

  <br>
    <br>



    <div class="container">
      <div class="row">
        <div class="col-sm-2">


          <table class="table  table-bordered  table-hover">
            <thead>
              <tr>
                <th>{{ 'Year' }}</th>
                <th>{{ 'Raw Payout' }}</th>
              </tr>
            </thead>
            <tbody>
              {% for i in range(0, rows1) %}
              <tr>
                <td>{{ labels[i] }}</td>
                <td>{{ values[i] }}</td>
              </tr>
            {% endfor %}
            </tbody>
          </table>

        </div>

        <div class="col-sm-10">
          <canvas id="bar-chart1"  ></canvas>
        </div>
      </div>


    
      <div class="row">
        <div class="col-sm-2">


          <table class="table  table-bordered  table-hover">
            <thead>
              <tr>
                <th>{{ 'Year' }}</th>
                <th>{{ 'Raw Quanto' }}</th>
              </tr>
            </thead>
            <tbody>
              {% for i in range(0, rows1) %}
              <tr>
                <td>{{ labels2[i] }}</td>
                <td>{{ values2[i] }}</td>
              </tr>
            {% endfor %}
            </tbody>
          </table>

        </div>

        <div class="col-sm-10">
          <canvas id="bar-chart2"  ></canvas>
        </div>
      </div>
      <div class="text-center">
        <button type="button" onclick="location.href='/register'" class="btn btn-danger">Calculate!</button>
      </div>
      
     
    </div>





    <script>
      // Bar Graph 1
      var ctx = document.getElementById('bar-chart1').getContext('2d');
      var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: [{% for label in labels %}'{{ label }}',{% endfor %}],
              datasets: [{
                  label: 'Raw Payout',
                  data: [{% for value in values %}{{ value }},{% endfor %}],
                  backgroundColor: 'rgba(255, 99, 132, 0.2)',
                  borderColor: 'rgba(255, 99, 132, 1)'
              }]
          },
          options: {
            title: {
              display: true,
              text: 'RAW Payout'
            },
            scales: {
              yAxes: [{
                beginAtZero: true,
                scaleLabel: {
                  display: true,
                  labelString: 'Price '
                }
              }],
              xAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: 'Year'
                }
              }]
            }
          
          }
      });

      // Bar Graph 2
      var ctx = document.getElementById('bar-chart2').getContext('2d');
      var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: [{% for label in labels2 %}'{{ label }}',{% endfor %}],
              datasets: [{
                  label: 'Quanto Payout',
                  data: [{% for value in values2 %}{{ value }},{% endfor %}],
                  backgroundColor: 'rgba(255, 99, 132, 0.2)',
                  borderColor: 'rgba(255, 99, 132, 1)'
                 
              }]
          },
          options: {
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      });
    </script>
    
  </body>
</html>




















